{% extends "base.html" %}
{% block content %}
<div class="header-flex">
    <h1>Activity Points</h1>
    <button class="btn-primary" onclick="document.getElementById('actModal').style.display='flex'">+ Log Participation</button>
</div>

<div class="glass-card" style="text-align: center; margin-bottom: 20px;">
    <h2 style="font-size: 3rem; color: var(--accent);">{{ total }} / 600</h2>
    <p style="color: var(--text-muted);">Total Points Earned</p>
</div>

<div class="glass-card">
    <h3>Participation Log</h3>
    <table>
        <thead>
            <tr>
                <th>Activity Name</th>
                <th>Category</th>
                <th>Date</th>
                <th>Points</th>
            </tr>
        </thead>
        <tbody>
            {% for log in logs %}
            <tr>
                <td><strong>{{ log['name'] }}</strong></td>
                <td><span class="badge">{{ log['category'] }}</span></td>
                <td>{{ log['date'] }}</td>
                <td style="color: var(--success); font-weight: bold;">+{{ log['points'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div id="actModal" class="modal-overlay">
    <div class="modal-card">
        <form method="POST">
            <h3>Add New Activity</h3><br>
            <div class="form-group">
                <label>Activity Name</label>
                <input type="text" name="activity_name" required>
            </div>
            <div class="form-group">
                <label>Category</label>
                <input type="text" name="category" placeholder="e.g. Workshop">
            </div>
            <div class="form-group">
                <label>Points Earned</label>
                <input type="number" name="points" required>
            </div>
            <div class="form-group">
                <label>Date</label>
                <input type="date" name="date" required>
            </div>
            <button type="submit" class="btn-primary" style="width:100%">Save Activity</button>
            <button type="button" class="btn-primary" style="width:100%; margin-top:10px; background:#ccc;" onclick="document.getElementById('actModal').style.display='none'">Cancel</button>
        </form>
    </div>
</div>
{% endblock %}